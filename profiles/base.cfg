[buildout]
extends = versions.cfg
find-links = http://op:x9W3jZ@dist.quintagroup.com/op/
parts =
    mkdirs
    ports
    scripts
    circus.ini
    circusd
    circusctl
    locust.cfg
    put_auctions
    autostart
eggs =
    circus
    circus-web
    libnacl
    locustio
    urllib3
    pyquery
    pyopenssl
    ndg-httpsclient
    pyasn1
	tinycss2

[mkdirs]
recipe =  z3c.recipe.mkdir
paths = 
    ${buildout:directory}/var/log

[scripts]
recipe = zc.recipe.egg
scripts = locust
eggs = ${buildout:eggs}

[circusd]
<= scripts
initialization = sys.argv[1:1] = ('${buildout:directory}/etc/circus.ini').split()
scripts = circusd

[circusctl]
<= scripts
initialization = sys.argv[1:1] = ('--endpoint ${circus.ini:endpoint}').split()
scripts = circusctl

[ports]
recipe = teamrubber.recipe.portbase
base = 40000

[circus.ini]
recipe = collective.recipe.template[genshi]:genshi
input = ${buildout:directory}/templates/${:_buildout_section_name_}
output = ${buildout:directory}/etc/${:_buildout_section_name_}
endpoint = ipc://${buildout:directory}/circus_endpoint
pubsub_endpoint = ipc://${buildout:directory}/circus_pubsub
master =
slave =
master-web-port = ${ports:0}
master-bind-host = "*"
master-bind-port = ${ports:1000}
slaves_count = 1
master-host =
locustfiles =

[common_target_data]

[locust.cfg]
recipe = collective.recipe.template[genshi]:genshi
input = ${buildout:directory}/templates/${:_buildout_section_name_}
output = ${buildout:directory}/etc/${:_buildout_section_name_}

[auctions_info]
auction_type =
auctions_number =
auctions_host =

[put_auctions]
recipe = zc.recipe.egg:scripts
find-links = ${buildout:directory}/put_auctions_pkg/dist
eggs = put_auctions
arguments = '${auctions_info:auction_type}', 'load-testing', ${auctions_info:auction_number}
entry-points = put_auctions.py=put_auctions:main

[autostart]
recipe = z3c.recipe.usercrontab
times = @reboot
command = ${buildout:directory}/bin/circusd --daemon

[authorized_insider.py]

[anonymous_insider.py]

[load.py]

[auctions.py]

[api.py]

[write_api.py]

[auction_authorized.py]
